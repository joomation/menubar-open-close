<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <title>menubar-open-close</title>
</head>

<body>
    <div class="menu-bar-wrap">
        <div class="title">
            <span>by</span>
            <a class="logo" href="https://joomation.com/home">
                <svg x="0px" y="0px" viewBox="0 0 80 25">
                    <ellipse class="logo-svg" cx="13.6" cy="12.8" rx="3.6" ry="4.4" />
                    <ellipse class="logo-svg" cx="23.7" cy="12.8" rx="3.6" ry="4.4" />
                    <ellipse class="logo-svg" cx="64" cy="12.8" rx="3.6" ry="4.4" />
                    <polyline class="logo-svg" points="37.6,17.2 37.6,8.4 34.1,12 30.5,8.4 30.5,17.2 " />
                    <g>
                        <line class="logo-svg" x1="44.2" y1="14.3" x2="42" y2="14.3" />
                        <polyline class="logo-svg" points="47.6,17.2 44.2,8.4 40.8,17.2 	" />
                        <line class="logo-svg" x1="44.2" y1="14.3" x2="46.5" y2="14.3" />
                    </g>
                    <g>
                        <line class="logo-svg" x1="48.4" y1="8.4" x2="53.8" y2="8.4" />
                        <line class="logo-svg" x1="51.1" y1="8.4" x2="51.1" y2="17.2" />
                    </g>
                    <line class="logo-svg" x1="56.9" y1="8.4" x2="56.9" y2="17.2" />
                    <polyline class="logo-svg" points="70.6,17.2 70.6,8.4 76.6,17.2 76.6,8.4 " />
                    <path class="logo-svg" d="M6.8,8.3c0,0,0,3.9,0,5.8s-1.5,4.3-3.8,2.3" />
                </svg>
            </a>
        </div>
        <div class="menu-bar-disc">
            <div class="title">
                <h2>01</h2>
            </div>
            <div class="menu-bar bar-type-1" onclick="menuToggle(null,event)">
                <span></span>
                <span></span>
            </div>
        </div>
        <div class="menu-bar-disc">
            <div class="title">
                <h2>02</h2>
            </div>
            <div class="menu-bar bar-type-2" onclick="menuToggle(null,event)">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        <div class="menu-bar-disc">
            <div class="title">
                <h2>03</h2>
            </div>
            <div class="menu-bar bar-type-3" onclick="menuToggle('twoMotions',event)">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        <div class="menu-bar-disc">
            <div class="title">
                <h2>04</h2>
            </div>
            <div class="menu-bar bar-type-4" onclick="menuToggle('twoMotions',event)">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        <div class="menu-bar-disc">
            <div class="title">
                <h2>05</h2>
            </div>
            <div class="menu-bar bar-type-5" onclick="menuToggle(null,event)">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        <div class="menu-bar-disc">
            <div class="title">
                <h2>06</h2>
            </div>
            <div class="menu-bar bar-type-6" onclick="menuToggle(null,event)">
                <span></span>
                <span></span>
            </div>
        </div>
    </div>
    <footer></footer>
</body>
<script>
    function menuToggle(type, e) {
        e.preventDefault();
        e.stopPropagation();
        var element = e.currentTarget;
        element.classList.toggle("active");
        if (type === 'twoMotions') {
            secondAction(element)
        }
    }

    function secondAction(element) {
        var children = element.children;
        for (var i = 0; i < children.length; i++) {
            one(children[i], "transitionend", handler.bind(this, children));
        }


    }

    function handler(element) {
        for (var i = 0; i < element.length; i++) {
            if (element[i].classList.contains('second')) {
                element[i].classList.remove('second')
            } else {
                element[i].classList.add('second')
            }

        }

    }
    // one event
    function one(node, type, response) {

        node.addEventListener(type, function (e) {
            // remove event
            e.target.removeEventListener(e.type, arguments.callee);
            // call handler
            return response(e);
        });

    }
</script>

</html>